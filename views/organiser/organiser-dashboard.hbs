<!--Main Navigation-->
<header>
  <!-- Sidebar -->
  <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
    <div class="position-sticky">
      <div class="list-group list-group-flush mx-3 mt-4 py-3" id="list-tab" role="tablist">

        <a class="list-group-item list-group-item-action active py-3" id="list-home-list" data-mdb-toggle="list"
          href="#list-home" role="tab" aria-controls="list-home"><i class="fas fa-tachometer-alt me-2"></i>
          Dashboard</a>
        <a class="list-group-item list-group-item-action py-3" id="list-profile-list" data-mdb-toggle="list"
          href="#list-profile" role="tab" aria-controls="list-profile"><i class="fas fa-users me-2"></i>Participants</a>
        <a class="list-group-item list-group-item-action py-3" id="list-messages-list" data-mdb-toggle="list"
          href="#list-messages" role="tab" aria-controls="list-messages"><i class="fas fa-user-graduate me-2"></i>
          Judges</a>
        <a class="list-group-item list-group-item-action py-3" id="list-settings-list" data-mdb-toggle="list"
          href="#list-settings" role="tab" aria-controls="list-settings"><i class="fas fa-home me-2"></i> Stages</a>

      </div>
    </div>
  </nav>
  <!-- Sidebar -->

  <!-- Navbar -->
  <nav id="main-navbar" class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <!-- Container wrapper -->
    <div class="container-fluid">
      <!-- Toggle button -->
      <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#sidebarMenu"
        aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Brand -->
      <a class="navbar-brand ms-5" href="#">
        <h2>Logo</h2>
      </a>
      <!-- Search form -->


      <!-- Right links -->
      <ul class="navbar-nav ms-auto d-flex flex-row">
        <!-- Notification dropdown -->

        <!-- Avatar -->
        <li class="nav-item dropdown me-3">
          <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
            id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-user-circle me-3"></i> <span><b>Organiser</b></span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">

            <li>
              <a class="dropdown-item" href="/organiser/logout"><i class="me-3 fas fa-sign-out-alt"></i>Logout</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
</header>
<!--Main Navigation-->

<!--Main layout-->
<main style="margin-top: 70px;">
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
      <section class="text-center mt-2 container">
        <div class="row py-4">
          <h3 class="text-center mt-3 mb-5">Welcome to Asterica</h3>
          <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Add Post</h5>
                <p class="card-text">Click on Add Post to see the messgaes about events</p>
                <button type="button" class="btn btn-primary" data-mdb-toggle="modal" data-mdb-target="#exampleModal">
                  Click Here
                </button>

                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                  aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Post Details</h5>
                        <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <form action="/organiser/addpost" method="post">

                        <div class="modal-body">
                          <div class="my-2">
                            <input type="text" id="typeText" placeholder="Title" class="form-control" />
                          </div>
                          <div class=" mb-4">
                            <textarea name="message" class="form-control" id="textAreaExample" rows="4"></textarea>
                          </div>
                          <input type="text" name="author" value="organiser" hidden>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-danger" data-mdb-dismiss="modal">Close</button>
                          <button type="submit" class="btn btn-success">Save</button>
                        </div>

                      </form>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <div class="col-sm-6">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Notice board</h5>
                <p class="card-text">Send Notifications or other information to students</p>
                <button type="button" class="btn btn-primary" data-mdb-toggle="modal" data-mdb-target="#exampleModal2">
                  Click here
                </button>
                <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel"
                  aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Notifications</h5>
                        <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
                      </div>

                      <form action="/organiser/addnotice" method="post">
                        <div class="modal-body">
                          <div class=" mb-4">
                            <textarea name="message" class="form-control" placeholder="Messages" id="textAreaExample"
                              rows="4"></textarea>
                              <input hidden type="text" name="author" value="program_organiser">
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-danger" data-mdb-dismiss="modal">Close</button>
                          <button type="submit" class="btn btn-success">Save</button>
                        </div>
                      </form>

                    </div>
                  </div>
                </div>


              </div>
            </div>
          </div>

        </div>
      </section>
    </div>

    <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
      <hr class="my-5 " />
      <div class="container" id="participants">
        <h3 class="mb-3 text-center">Participants Information</h3>

        <ul class="nav nav-pills mb-3" id="pills-tab2" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab2" data-mdb-toggle="pill" data-mdb-target="#pills-home2"
              type="button" role="tab" aria-controls="pills-home" aria-selected="true">
              Solo
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-profile-tab2" data-mdb-toggle="pill" data-mdb-target="#pills-profile2"
              type="button" role="tab" aria-controls="pills-profile" aria-selected="false">
              Group
            </button>
          </li>
        </ul>
        {{!-- solo item pills --}}
        <div class="tab-content" id="pills-tabContent2">
          <div class="tab-pane fade show active" id="pills-home2" role="tabpanel" aria-labelledby="pills-home-tab2">

            {{!-- Solo item table --}}
            <div class="container">
              <table class="table table-bordered">
              
                <thead>
                  <tr>
                    <th scope="col">No</th>
                    <th scope="col">Name</th>
                    <th scope="col">Item</th>
                    <th scope="col">Status</th>
                    <th scope="col">Details</th>
                    
                  </tr>
                </thead>
                <tbody>
                  {{#each approvedSolo}}
                  <tr>
                    <th scope="row">{{@index}}</th>
                    <td>{{this.name}}</td>
                    <td>{{this.item}}</td>
                    <td>{{this.status}}</td>
                    <td><a href="/organiser/allot/{{this._id}}" class="btn btn-success">view</a></td>
                  </tr>
                  {{/each}}
                  
                </tbody>
              </table>
            </div>
            {{!-- solo item table ends --}}





          </div>
          {{!-- group pills --}}
          <div class="tab-pane fade" id="pills-profile2" role="tabpanel" aria-labelledby="pills-profile-tab2">

            {{!-- group Table --}}
            <table class="table table-bordered">
             
              <thead>
                <tr>
                  <th scope="col">No</th>
                  <th scope="col">Group leader</th>
                  <th scope="col">Item</th>
                  <th scope="col">Status</th>
                  <th scope="col">Details</th>

                </tr>
              </thead>
              <tbody>
                {{#each approvedGroup}}
                <tr>
                  <th scope="row">{{@index}}</th>
                  <td>{{this.leaderregno}}</td>
                  <td>{{this.item}}</td>
                  <td>{{this.status}}</td>
                  <td><a href="/organiser/allot/{{this._id}}" class="btn btn-success">view</a></td>
                </tr>
                {{/each}}
              </tbody>
            </table>
            {{!-- end of roup table --}}
          </div>
        </div>
      </div>
    </div>


    <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">
      <hr class="my-5 " />
      <section id="judges" class="container">
        <h3 class="my-5 ">Add Judges</h3>
        <div class="mb-3">
          <button class="btn btn-primary add-one ">Add judges</button>
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-danger" data-mdb-toggle="modal" data-mdb-target="#exampleModal3">
            Delete judge
          </button>
        </div>


        <!-- Modal -->
        <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Remove Judge</h5>
                <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
              </div>

              <form action="/organiser/removejudge" method="post">
                <div class="modal-body">
                  <div class="form-outline mb-4">
                    <input type="text" name="username"  class="form-control" />
                    <label class="form-label" >Username</label>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-danger">Remove</button>
                </div>
              </form>

            </div>
          </div>
        </div>


        <div class="form-group dynamic-element" style="display:none">
          <div class="row">
            <div class="accordion" id="accordionExample">
              <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                  <button class="accordion-button" type="button" data-mdb-toggle="collapse"
                    data-mdb-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Judge
                  </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                  data-mdb-parent="#accordionExample">
                  <div class="accordion-body">


                    <form class="container" action="/organiser/addjudge" method="post">

                      <div class="row">
                        <div class="form-group col-md-6">
                          <label >Day</label>
                          <select name="day" class="form-control">
                            <option value="1" selected>1</option>
                            <option value="2" >2</option>
                            <option value="3" >3</option>
                            <option value="4" >4</option>
                            <option value="5" >5</option>

                          </select>
                        </div>
                        <div class="form-group col-md-6">
                          <label >Stage</label>
                          <select name="stage" class="form-control">

                            <option value="1" selected>1</option>
                            <option value="2" >2</option>
                            <option value="3" >3</option>
                            <option value="4" >4</option>
                            <option value="5" >5</option>

                          </select>
                        </div>
                      </div>
                      <div class="row mt-2">
                        <div class="form-group col-md-6">
                          <label >Name</label>
                          <input name="name" type="text" class="form-control" >
                        </div>
                        <div class="form-group col-md-6">
                          <label >Username</label>
                          <input name="username" type="text" class="form-control" >
                        </div>
                      </div>
                      <div class="row mt-2">
                        <div class="form-group col-md-6">
                          <label >Password</label>
                          <input name="password" type="password" class="form-control" >
                        </div>
                        <div class="form-group col-md-6">
                          <label >Item</label>
                          <input type="text" name="item" class="form-control">
                        </div>
                      </div>

                       <div class="row mt-2">
                        
                        <div class="form-group col-md-6">
                          <label>Phone no.</label>
                          <input type="text" name="phoneno" class="form-control">
                        </div>
                      </div>

                      <button type="submit" class="mt-3 btn btn-primary">Submit</button>

                    </form>



                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End of fields-->
          <div class="col-md-1 my-1">
            <button class="btn btn-danger delete">Delete</button>
          </div>
        </div>
        <div class="dynamic-stuff">
          <!-- Dynamic element will be cloned here -->
          <!-- You can call clone function once if you want it to show it a first element-->
        </div>




      </section>
    </div>

    <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="list-settings-list">
      <hr class="my-5 " />
      <div class="container">
        <h3 class="mb-3 text-center">Stages Information</h3>

        <ul class="nav nav-pills mb-3" id="pills-tab5" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab2" data-mdb-toggle="pill" data-mdb-target="#pills-home6"
              type="button" role="tab" aria-controls="pills-home" aria-selected="true">
              Judges
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-profile-tab2" data-mdb-toggle="pill" data-mdb-target="#pills-profile5"
              type="button" role="tab" aria-controls="pills-profile" aria-selected="false">
              Students
            </button>
          </li>
        </ul>
        {{!-- solo item pills --}}
        <div class="tab-content" id="pills-tabContent2">
          <div class="tab-pane fade show active" id="pills-home6" role="tabpanel" aria-labelledby="pills-home-tab2">

            {{!-- Solo item table --}}
            <div class="container">
              <table class="table table-bordered">
                <h5 class="text-primary my-4">Judges Information</h5>
                <thead>
                  <tr>
                    <th scope="col">No</th>
                    <th scope="col">Judge</th>
                    <th scope="col">Username</th>
                    <th scope="col">Password</th>
                    <th scope="col">Item</th>
                    <th scope="col">Stage</th>
                    <th scope="col">Day</th>
                    <th scope="col">Phone no</th>
                  </tr>
                </thead>
                <tbody>
                  {{#each allJudges}}

                  <tr>
                    <th scope="row">{{@index}}</th>
                    <td>{{this.name}}</td>
                    <td>{{this.username}}</td>
                    <td>{{this.password}}</td>
                    <td>{{this.item}}</td>
                    <td>{{this.stage}}</td>
                    <td>{{this.day}}</td>
                    <td>{{this.phoneno}}</td>
                  </tr>

                 {{/each}} 
                </tbody>
              </table>
            </div>
            {{!-- solo item table ends --}}





          </div>
          {{!-- group pills --}}
          <div class="tab-pane fade" id="pills-profile5" role="tabpanel" aria-labelledby="pills-profile-tab2">

            {{!-- group Table --}}
            <table class="table table-bordered">
              <h5 class="text-primary my-4">Participants Information</h5>
              <thead>
                <tr>
                  <th scope="col">No</th>
                  <th scope="col">Student</th>
                  <th scope="col">Item</th>
                  <th scope="col">Stage</th>
                  <th scope="col">Day</th>
                   <th scope="col">Time</th>
                  <th scope="col">Chest number</th>
                  <th scope="col">Phone no</th>
                </tr>

              </thead>
              <tbody>
                {{#each allotedStudents}}

                  <tr>
                    <th scope="row">{{@index}}</th>
                    <td>{{this.name}}</td>
                    <td>{{this.item}}</td>
                    <td>{{this.stage}}</td>
                    <td>{{this.day}}</td>
                    <td>{{this.time}}</td>
                    <td>{{this.chestno}}</td>
                    <td>{{this.phoneno}}</td>
                  </tr>

                {{/each}}
              </tbody>
            </table>
            {{!-- end of roup table --}}
          </div>
          {{!-- <div class="tab-pane fade" id="pills-contact2" role="tabpanel" aria-labelledby="pills-contact-tab2">
            Tab 3 content
          </div> --}}
        </div>
      </div>
    </div>

  </div>
  <div class="container pt-4">
    <hr class="my-5 " />
  </div>



</main>
<!--Main layout-->


{{!-- styles for dashboard --}}
<style>
  body {
    background-color: #fbfbfb;
  }

  @media (min-width: 991.98px) {
    main {
      padding-left: 240px;
    }
  }

  /* Sidebar */
  .sidebar {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    padding: 58px 0 0;
    /* Height of navbar */
    box-shadow: 0 2px 5px 0 rgb(0 0 0 / 5%), 0 2px 10px 0 rgb(0 0 0 / 5%);
    width: 240px;
    z-index: 600;
  }

  @media (max-width: 991.98px) {
    .sidebar {
      width: 100%;
    }
  }

  .sidebar .active {
    border-radius: 5px;
    box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
  }

  .fa-user-circle {
    font-size: 25px;
    color: #fff;
  }

  .sidebar-sticky {
    position: relative;
    top: 0;
    height: calc(100vh - 48px);
    padding-top: 0.5rem;
    overflow-x: hidden;
    overflow-y: auto;
    /* Scrollable contents if viewport is shorter than content. */
  }

  * {
    font-family: 'Poppins', sans-serif;
  }

  html {
    scroll-behavior: smooth;
  }

  a {
    color: #00B7FF;
  }

  .navbar .nav-link {
    color: #fff !important;
  }

  li {
    font-family: 'Poppins', sans-serif;
    font-weight: 500;
  }

  .about-img {
    width: 350px;
  }
</style>

{{!-- script for dynamic form --}}
<script>
  //Clone the hidden element and shows it
  $('.add-one').click(function () {
    $('.dynamic-element').first().clone().appendTo('.dynamic-stuff').show();
    attach_delete();
  });


  //Attach functionality to delete buttons
  function attach_delete() {
    $('.delete').off();
    $('.delete').click(function () {
      console.log("click");
      $(this).closest('.form-group').remove();
    });
  }
</script>